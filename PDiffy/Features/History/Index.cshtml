@model PDiffy.Features.History.Index.Result
@{
	Layout = "~/Features/Shared/_Layout.cshtml";
}
@section Styles { 
	<link href="~/Styles/History.css" rel="stylesheet" /> }
@section Scripts {
	<script src="~/Scripts/History.generated.js" type="text/javascript"></script> }

<div class="page-container align-center text-align-center">
	<h2 class="page-title align-center">History</h2>
	<div class="page-object align-center text-align-center">
		<h3>@Model.Name</h3>
		@foreach (var image in Model.DifferenceImages)
		{
			<div class="historical-difference-container">
				<p>@image.CreatedDate</p>
				<a href="@image.ImageString"><img src="@image.ImageString" alt="originalHistoricalImage" /></a>
				@*TODO this is my own super advanced feature switch
						<div class="controls">
						<a class="btn align-center" href="#@Model.ImageComparison.Name">Learn</a>
					</div>*@
				<div id="@Model.Name" class="modalDialog">
					<div class="align-center text-align-center">
						<a href="#closedModal" title="Close" class="close">X</a>
						<h3>Learn Difference for @Model.Name</h3>
						<p>Warning! Read this!</p>
						<p>This will mark this difference so that future differences with this name will not produce the same difference again and will instead be automatically approved.</p>
						@Html.ActionLink("Confirm and help create Skynet", "Learn", "History", new { name = Model.Name, createdDate = image.CreatedDate }, new { @class = "btn" })
					</div>
				</div>
			</div>
		}
	</div>
</div>